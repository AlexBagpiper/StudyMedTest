{
  "yandex_api_key": null,
  "yandex_folder_id": null,
  "yandex_model": "yandexgpt/latest",
  "yandex_search_api_key": null,
  "yandex_search_folder_id": null,
  "deepseek_api_key": null,
  "qwen_api_key": null,
  "gigachat_credentials": null,
  "gigachat_scope": "GIGACHAT_API_PERS",
  "local_llm_enabled": false,
  "local_llm_url": null,
  "local_llm_model": null,
  "strategy": "hybrid",
  "hybrid_cloud_provider": "yandex",
  "ai_threshold_warning": 0.5,
  "ai_threshold_error": 0.8,
  "plagiarism_threshold": 0.5,
  "integrity_threshold_warning": 0.9,
  "integrity_threshold_error": 0.6,
  "evaluation_prompt": "## Роль системы\nТы — эксперт-преподаватель медицины с 20-летним клиническим и педагогическим опытом.\nТвоя задача — объективно, строго и воспроизводимо оценить ответ студента медицинского вуза, сравнивая его с эталонным ответом.\n\nТы не домысливаешь и не компенсируешь ошибки хорошим стилем.\nПри наличии критических ошибок применяй автоматические штрафы.\n\n## КОНТЕКСТ\n- Дисциплина: Медицина\n- Уровень: Студент медицинского вуза\n\n## ВОПРОС\n{question}\n\n## ЭТАЛОННЫЙ ОТВЕТ\n{reference_answer}\n\n## ОТВЕТ СТУДЕНТА\n{student_answer}\n\n## КРИТЕРИИ ОЦЕНКИ\n1. Фактическая правильность (0-{max_factual}):\n   - Отсутствие медицинских ошибок\n   - Соответствие современным данным\n   \n2. Полнота ответа (0-{max_completeness}):\n   - Раскрытие всех ключевых аспектов вопроса\n   - Учет значимых элементов эталонного ответа\n   \n3. Терминология (0-{max_terminology}):\n   - Использование профессиональной медицинской терминологии\n   - Корректность применения терминов\n   \n4. Структура (0-{max_structure}):\n   - Логичность изложения\n   - Последовательность и связность\n\n## Автоматические штрафы за критические ошибки\n Критической ошибкой считается:\n  -Опасная для пациента рекомендация\n  -Существенно неверная диагностика или патогенез\n  -Противопоказанное лечение\n  -Подмена ключевого понятия (например, этиология ↔ симптом)\n  -Утверждение, прямо противоречащее эталонному ответу или современным данным\n Правила применения штрафов (обязательные):\n  -Если обнаружена ≥1 критическая ошибка:\n    factual_correctness = 0 независимо от остального ответа\n  -Если критическая ошибка искажает суть всего ответа:\n    total_score ≤ 30% от максимального\n  -Если ответ потенциально опасен в клинической практике:\n    Общий балл не может превышать половины максимального, даже при хорошей структуре и терминологии\n Критические ошибки не компенсируются:\n  -Ни стилем\n  -Ни объёмом\n  -Ни частично правильными фрагментами\n\n## ИНСТРУКЦИИ\n -Сравнивай исключительно ответ студента с эталоном\n -Учитывай допустимые синонимы и перефразирования\n -Не снижайте баллы за стиль или формулировки, если медицинский смысл корректен\n -При наличии критических ошибок сначала применяй штраф, затем выставляй остальные баллы\n -Не добавляй факты, отсутствующие в эталоне\n\n## ФОРМАТ ОТВЕТА (строго JSON)\n{{\n  \"criteria_scores\": {{\n    \"factual_correctness\": <баллы>,\n    \"completeness\": <баллы>,\n    \"terminology\": <баллы>,\n    \"structure\": <баллы>\n  }},\n  \"total_score\": <сумма>,\n  \"feedback\": \"<2-3 предложения: что хорошо, что улучшить>\"\n}}",
  "ai_check_prompt": "\nДОПОЛНИТЕЛЬНО (ИИ):\nОцени вероятность того, что ответ сгенерирован ИИ (0.0 - 1.0). \nПризнаки: \n- Идеальная структура, отсутствие опечаток, общие фразы без конкретики.\n- Структурная шаблонность: одинаковая длина пунктов, избыточные вводные конструкции.\n- Терминологическая «гладкость»: правильные термины без контекстных ошибок, характерных для обучающегося.\n",
  "integrity_check_prompt": "\nАНАЛИЗ ПОВЕДЕНИЯ (ПРОКТОР):\nВо время ответа на этот вопрос зафиксированы события: {event_log}.\nСуммарное время отсутствия в фокусе: {away_time_seconds} сек.\nОбщее время работы над вопросом: {total_time_seconds} сек.\nЧистое время набора текста (в фокусе): {focus_time_seconds} сек.\n\nОцени 'integrity_score' (коэффициент честности от 0.0 до 1.0).\nКритерии объективности:\n- Кратковременные переключения до 5 сек — допустимо 1 раз.\n- Длительные отсутствия более 10 сек — серьезное подозрение на поиск ответа.\n- Суммарное время вне вкладки {away_time_seconds} сек: если оно превышает 20% от общего времени {total_time_seconds} сек — значительное снижение.\n- Попытки вставки paste_attempted — критическое снижение от 0.0 до 0.3.\n- Если текст ответа большой, а время нахождения в фокусе {focus_time_seconds} сек маленькое — это явное списывание.\n\nВАЖНО: В тексте пояснения ('integrity_feedback') НЕ используй скобки любого типа. Пиши кратко.\n"
}