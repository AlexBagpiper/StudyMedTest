# Панель Администратора

Администратор курирует техническую работоспособность платформы, безопасность данных и корректность настройки алгоритмов оценки.

## 0. Рабочий стол и навигация

Система предоставляет администратору два основных уровня управления:

1.  **Главная страница**: Центр оперативного мониторинга.
    *   **Панель быстрого доступа**: Карточки «Создать тест», «Создать вопрос» и «Результаты студентов».
    *   **Статистика**: Аналитика успеваемости и активности.
2.  **Админ-панель**: Специализированный раздел для глубокой настройки системы.

**Боковое меню** обеспечивает навигацию по всем разделам: Главная, Темы, Тесты, Вопросы, Результаты, Админ-панель и Почта.

## 1. Админ-панель

Центральный узел управления, разделенный на четыре ключевых блока:

*   **Пользователи**: Управление учетными записями.
*   **Заявки преподавателей**: Модерация запросов на повышение прав.
*   **Настройки системы**: Техническая конфигурация (CV и LLM).
*   **Почта (Админ)**: Прямой переход в панель управления почтовым сервером Mox.

## 2. Управление доступом

### Пользователи
Раздел (Админ-панель -> Пользователи) предназначен для детального управления учетными записями:

*   **Поиск и фильтрация**: Инструментарий позволяет быстро находить пользователей по ФИО или Email, а также переключаться между группами с помощью вкладок.
*   **Информационная таблица**:
    *   **ФИО и Email**: Основные данные пользователя.
    *   **Роль**: Отображается цветным бейджем.
    *   **Статус**: Текущее состояние аккаунта.
    *   **Дата создания**: Дата регистрации пользователя в системе.
*   **Действия**:
    *   **Редактирование**: Позволяет изменить профиль пользователя, его роль или статус.
    *   **Удаление**: Безвозвратное удаление аккаунта.

### Заявки преподавателей
Раздел для обработки входящих запросов на роль «Преподаватель». Администратор проверяет данные и принимает решение (**«Одобрить»** или **«Отклонить»**).

## 3. Настройки системы

Находятся в подразделе **«Настройки системы»** и включают в себя:

### 3.1 Конфигурация Computer Vision (CV)
Настройка правил автоматической проверки графических заданий (IoU, Recall, Precision).

### 3.2 Конфигурация LLM (Нейросети)

Настройка параметров автоматической оценки ответов.

#### Стратегии работы
*   **Облако**: Использование внешних API (Yandex, GigaChat, DeepSeek, Qwen).
*   **Локально**: Работа через собственный сервер (Ollama, vLLM).
*   **Гибридная**: Основная оценка в облаке, автоматическое переключение на локальную модель при сбоях.

#### Настройка провайдеров
*   **YandexGPT**: Требует `API Key` и `Folder ID`. Доступны модели Lite (быстрая) и Pro (точная).
*   **GigaChat**: Требует `Credentials` в формате Base64.
*   **DeepSeek / Qwen**: Требуют только `API Key`.

#### Академическая честность
*   **Yandex Search API**: Поиск плагиата в интернете. Нужен ключ с ролью `search-api.executor`. Можно задать порог чувствительности.
*   **Детекция ИИ**: Анализ текста на признаки машинной генерации через промпт. Устанавливаются пороги:
    *   *Порог предупреждения*: Визуальное выделение (желтый цвет) и переход в режим мягкого штрафа (через `integrity_score`).
    *   *Порог критический (штрафа)*: Автоматическое обнуление балла за ответ (жесткий штраф).
*   **Анализ поведения**: Оценка действий студента (копирование, переключение вкладок). **Важно**: в промпте должна быть переменная `{event_log}`. ИИ выставляет `integrity_score` от 0.0 до 1.0, на который перемножается итоговая оценка вопроса. При падении честности ниже критического уровня (настраивается) оценка обнуляется.

#### Системные промпты
Позволяют настроить "личность" эксперта, критерии оценки (с переменными `{max_factual}`, `{max_completeness}` и др.) и инструкции для анти-чит проверки.

## 4. Почтовый сервер

Раздел **«Почта»** открывает внешнюю панель управления Mox. Здесь настраиваются системные ящики и параметры рассылок.

## 5. Глобальный мониторинг и управление результатами

Раздел **«Результаты»** предоставляет полный контроль над процессом обучения:

*   **Таблица результатов**: Содержит колонки:
    *   **Студент** и **Преподаватель**.
    *   **Тест**.
    *   **Дата начала** прохождения.
    *   **Статус**.
    *   **Результат**.
*   **Действия**:
    *   **Просмотр**: Детальный аудит ответов, ИИ-фидбека и разметки. Внутри страницы просмотра доступен блок **«История попыток»**, позволяющий переключаться между разными попытками одного студента по данному тесту.
    *   **Удаление**: Безвозвратное удаление попытки. Удаление происходит каскадно: вместе с попыткой удаляются все ответы студента и запись о разрешении на пересдачу.
    *   **Разрешить пересдачу**: Иконка «повтора» (оранжевая стрелка) в таблице. Позволяет студенту пройти тест еще раз. При этом старый результат не удаляется, а сохраняется в истории.
*   **Переоценка**: Возможность принудительного пересчета баллов при изменении глобальных настроек CV или промптов LLM.

## 6. Публикация эталонного контента

Все вопросы и тесты, созданные Администратором, автоматически становятся доступными всем Преподавателям платформы в режиме «Только чтение». Преподаватели могут:
*   Использовать админские вопросы в своих тестах.
*   Дублировать админские вопросы и тесты для создания собственных модифицированных версий.
Это позволяет администраторам формировать базовую «библиотеку» качественного контента для всей организации.

---

